spring.application.name=BookMyShow

# Server Configuration
server.port=8080
server.servlet.context-path=/api

# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/movieshow?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=Syed@9901727347
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.format_sql=true

# Email Configuration for Gmail
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=sonithkumarsoni@gmail.com
spring.mail.password=zeue uyvc nsfe vqvg
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000


# JWT Configuration
jwt.secret=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970
jwt.expiration=86400000

# CORS Configuration
cors.allowed-origins=http://localhost:3000,http://localhost:5173

# Application Settings
app.base-url=http://localhost:8080/api

# File Upload
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB








#
#-- Create database
#CREATE DATABASE IF NOT EXISTS movieshow;
#USE movieshow;
#
#-- Users table
#CREATE TABLE users (
#    id BIGINT PRIMARY KEY AUTO_INCREMENT,
#    name VARCHAR(100) NOT NULL,
#    email VARCHAR(100) NOT NULL UNIQUE,
#    password VARCHAR(255) NOT NULL,
#    phone VARCHAR(15),
#    role ENUM('USER', 'ADMIN', 'THEATER_OWNER') DEFAULT 'USER',
#    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
#    INDEX idx_email (email)
#);
#
#-- Movies table
#CREATE TABLE movies (
#    id BIGINT PRIMARY KEY AUTO_INCREMENT,
#    title VARCHAR(200) NOT NULL,
#    description TEXT,
#    duration INT,
#    language VARCHAR(50),
#    genre VARCHAR(100),
#    rating DECIMAL(3,1) DEFAULT 0.0,
#    release_date DATE,
#    poster_url VARCHAR(500),
#    trailer_url VARCHAR(500),
#    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
#    INDEX idx_title (title),
#    INDEX idx_genre (genre)
#);
#
#-- Theaters table
#CREATE TABLE theaters (
#    id BIGINT PRIMARY KEY AUTO_INCREMENT,
#    name VARCHAR(200) NOT NULL,
#    location VARCHAR(500),
#    city VARCHAR(100),
#    screens INT DEFAULT 1,
#    facilities TEXT,
#    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
#    INDEX idx_city (city)
#);
#
#-- Shows table
#CREATE TABLE shows (
#    id BIGINT PRIMARY KEY AUTO_INCREMENT,
#    movie_id BIGINT NOT NULL,
#    theater_id BIGINT NOT NULL,
#    screen_number INT DEFAULT 1,
#    show_date DATE NOT NULL,
#    show_time TIME NOT NULL,
#    price_classic DECIMAL(10,2) NOT NULL,
#    price_premium DECIMAL(10,2) NOT NULL,
#    available_seats INT DEFAULT 100,
#    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
#    FOREIGN KEY (movie_id) REFERENCES movies(id) ON DELETE CASCADE,
#    FOREIGN KEY (theater_id) REFERENCES theaters(id) ON DELETE CASCADE,
#    INDEX idx_movie_theater (movie_id, theater_id)
#);
#
#-- Bookings table
#CREATE TABLE bookings (
#    id BIGINT PRIMARY KEY AUTO_INCREMENT,
#    user_id BIGINT NOT NULL,
#    show_id BIGINT NOT NULL,
#    seats TEXT,
#    total_amount DECIMAL(10,2) NOT NULL,
#    payment_status ENUM('PENDING', 'COMPLETED', 'FAILED', 'REFUNDED', 'CANCELLED') DEFAULT 'PENDING',
#    booking_reference VARCHAR(50) UNIQUE,
#    booked_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
#    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
#    FOREIGN KEY (show_id) REFERENCES shows(id) ON DELETE CASCADE,
#    INDEX idx_user (user_id),
#    INDEX idx_booking_ref (booking_reference)
#);
#
#-- Payments table
#CREATE TABLE payments (
#    id BIGINT PRIMARY KEY AUTO_INCREMENT,
#    booking_id BIGINT NOT NULL UNIQUE,
#    amount DECIMAL(10,2) NOT NULL,
#    payment_method VARCHAR(50),
#    transaction_id VARCHAR(100),
#    status ENUM('SUCCESS', 'FAILED', 'PENDING') DEFAULT 'PENDING',
#    payment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
#    FOREIGN KEY (booking_id) REFERENCES bookings(id) ON DELETE CASCADE,
#    INDEX idx_transaction (transaction_id)
#);
#
#-- Insert sample admin user (password: admin123)
#INSERT INTO users (name, email, password, role) 
#VALUES ('Admin User', 'admin@showtime.com', '$2a$10$YourHashedPasswordHere', 'ADMIN');
#
#-- Insert sample movies
#INSERT INTO movies (title, description, duration, language, genre, rating, release_date, poster_url, trailer_url) VALUES
#('Avengers: Endgame', 'After the devastating events of Infinity War, the Avengers assemble once more to reverse Thanos actions.', 181, 'English', 'Action, Adventure, Drama', 8.4, '2019-04-26', 'https://image.tmdb.org/t/p/w500/or06FN3Dka5tukK1e9sl16pB3iy.jpg', 'https://www.youtube.com/watch?v=TcMBFSGVi1c'),
#('Spider-Man: No Way Home', 'With Spider-Man identity now revealed, Peter asks Doctor Strange for help.', 148, 'English', 'Action, Adventure, Fantasy', 8.2, '2021-12-17', 'https://image.tmdb.org/t/p/w500/1g0dhYtq4irTY1GPXvft6k4YLjm.jpg', 'https://www.youtube.com/watch?v=JfVOs4VSpmA'),
#('Pushpa: The Rise', 'A laborer rises through the ranks of a red sandalwood smuggling syndicate.', 179, 'Telugu', 'Action, Drama', 8.0, '2021-12-17', 'https://image.tmdb.org/t/p/w500/8CgLz81lNcLZmG4VgqCwYQtnVhJ.jpg', 'https://www.youtube.com/watch?v=Q1NKMPhP8PY');
#
#-- Insert sample theaters
#INSERT INTO theaters (name, location, city, screens, facilities) VALUES
#('PVR Cinemas', 'Phoenix Marketcity, Velachery', 'Chennai', 8, 'Dolby Atmos, 3D, IMAX, Food Court'),
#('INOX', 'Express Avenue Mall, Royapettah', 'Chennai', 6, 'Dolby Digital, Recliner Seats'),
#('IMAX', 'VR Chennai, Anna Nagar', 'Chennai', 4, 'IMAX 3D, Laser Projection');
#
#-- Insert sample shows
#INSERT INTO shows (movie_id, theater_id, screen_number, show_date, show_time, price_classic, price_premium, available_seats) VALUES
#(1, 1, 1, '2024-01-20', '10:00:00', 200.00, 350.00, 100),
#(1, 1, 2, '2024-01-20', '14:00:00', 200.00, 350.00, 80),
#(2, 2, 1, '2024-01-20', '11:30:00', 180.00, 300.00, 100),
#(3, 3, 1, '2024-01-20', '18:00:00', 150.00, 250.00, 100);



















